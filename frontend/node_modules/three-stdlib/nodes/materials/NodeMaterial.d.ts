import { ShaderMaterial, WebGLRenderer } from 'three';

import { Node } from 'three-stdlib/nodes/core/Node.js';
import { NodeBuilder } from 'three-stdlib/nodes/core/NodeBuilder.js';
import { NodeFrame } from 'three-stdlib/nodes/core/NodeFrame.js';
import { RawNode } from 'three-stdlib/nodes/materials/nodes/RawNode.js';

export interface NodeMaterialBuildParams {
    builder?: NodeBuilder;
    renderer?: WebGLRenderer;
}

export class NodeMaterial extends ShaderMaterial {
    constructor(vertex: Node, fragment: Node);

    vertex: Node | RawNode;
    fragment: Node | RawNode;

    updaters: object[];

    readonly isNodeMaterial: true;
    properties: object;

    updateFrame(frame: NodeFrame): void;
    build(params?: NodeMaterialBuildParams): this;
    getHash(): string;
    copy(source: NodeMaterial): this;
}
